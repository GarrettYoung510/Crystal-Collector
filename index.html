<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Crystal Collector</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/javascript/game.js">
    <link href="https://fonts.googleapis.com/css?family=Cinzel&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/style.css">
    <!-- <link rel="stylesheet" href="./assets/css/reset.css"> -->
</head>

<body>
    <div class="card" style="width: 100%;">
        <div class="card-body">
            <h2 class="card-title text-center">Crystal Collector</h2>
            <h5 class="card-text text-center">Select from the crystals below to add up to the target points!</h5>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">Current Points: <span id="points"></span></li>
            <li class="list-group-item">Target Points: <span id="target-points"></span></li>
            <li class="list-group-item">Losses: <span id="losses"></span></li>
            <li class="list-group-item">Wins: <span id="wins"></span></li>
            <li class="list-group-item">Select a Crystal: <span id="crystalSelection"></span>
                <div class="container">
                    <div class="row">
                        <div class="col-3"><button type="button" class="btn btn-primary" id="crystal1" value="7"><img src="./assets/images/bluegem.png" alt="" class="img-fluid img-thumbnail"></button></div>
                        <div class="col-3"><button type="button" class="btn btn-secondary" id="crystal2" value="3"><img src="./assets/images/pylon.png" alt="" class="img-fluid img-thumbnail"></button></div>
                        <div class="col-3"><button type="button" class="btn btn-success" id="crystal3" value="4"><img src="./assets/images/emerald.png" alt="" class="img-fluid img-thumbnail"></button></div>
                        <div class="col-3"><button type="button" class="btn btn-danger" id="crystal4" value="9"><img src="./assets/images/ruby.png" alt="" class="img-fluid img-thumbnail"></button></div>
                    </div>
                </div>
            </li>
        </ul>
        <!-- if i want to add some links to other projects -->
        <!-- <div class="card-body">
            <a href="#" class="card-link">Card link</a>
            <a href="#" class="card-link">Another link</a>
        </div> -->
    </div>
    <script>
        $(document).ready(function gameStart() {
            // variables for the game
            // create variable for holding score
            let points = 0;
            // variable for target points
            // set target score to be random up to 77
            let targetPoints = Math.floor(Math.random() * 77);;
            // variable holds losses
            let losses = 0;
            // variable holds wins
            let wins = 0;
            // sets target total for user to see
            $('#target-points').text(targetPoints);
            // variable for crystal value
            let crystalValue = 0;

            // create on click function for clicking crystals
            $("#crystal1,#crystal2,#crystal3,#crystal4").on("click", function() {
                // variable for holding the value of selected crystal
                crystalValue = $(this).attr('value');
                // adds to points when clicking a crystal
                points += parseInt(crystalValue);
                // changes total on the screen
                $('#points').text(points);

                if (points === targetPoints) {
                    // win condition and alert
                    alert("You Win! GOOD JOB!");
                    // win
                    wins++;
                    // updates wins for user to see
                    $('#wins').text(wins);
                    // selects new number to guess
                    targetPoints = Math.ceil(Math.random() * 77);
                    $('#target-points').text(targetPoints);
                    // reset points
                    points = 0;
                    $('#points').text(points);

                } else if (points >= targetPoints) {
                    // lose condition and alert
                    alert("You lose. Please try again!");
                    // lose
                    losses++;
                    // updates losses for user to see
                    $('#losses').text(losses);
                    // selects new number to guess
                    targetPoints = Math.ceil(Math.random() * 77);
                    $('#target-points').text(targetPoints);
                    // reset points
                    points = 0;
                    $('#points').text(points);

                } else {
                    alert("Please select another crystal!");
                    // keep going
                }
            });

        });
    </script>
</body>

</html>